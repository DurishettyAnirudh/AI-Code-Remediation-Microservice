cwe: CWE-733
name: Compiler Optimization Removal or Modification of Security-critical Code
languages: C, C++
tags: Base, Incomplete
---
Short Description:
The developer builds a security-critical protection mechanism into the software, but the
compiler optimizes the program such that the mechanism is removed or modified.

Secure Coding Checklist:
Do:
- Apply least privilege, validate input, and follow vendor hardening guides.
Don't:
- Access Control:Other:Avoid situations leading toBypass Protection Mechanism:Avoid situations leading toOther

Language-Agnostic Guidance:
::METHOD:Black Box:DESCRIPTION:This specific weakness is impossible to detect using black
box methods. While an analyst could examine memory to see that it has not been scrubbed,
an analysis of the executable would not be successful. This is because the compiler has
already removed the relevant code. Only the source code shows whether the programmer
intended to clear the memory or not, so this weakness is indistinguishable from
others.::METHOD:White Box:DESCRIPTION:This weakness is only detectable using white box
methods (see black box detection factor). Careful analysis is required to determine if the
code is likely to be removed by the compiler.::

Sample Fix Idea (Pseudo-code):
```pseudo
# High-level remediation stub
if receives_untrusted_input():
    validate_against_allowlist()
    enforce_least_privilege()
    log_and_monitor()
```
